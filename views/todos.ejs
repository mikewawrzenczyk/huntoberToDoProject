<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100Devs Daily Planner</title>
    <link rel="stylesheet" href="css/style.css">

    <!-- Font Awesome link -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
</head>
<body>
    <section class="todo-container">
    <h1>Hi <%= user.userName %>, here's your todo list </h1>
    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
                <h2>Edit your todo item</h2>
                <input type="textarea"  placeholder="pretest" class="form" id="todoItemModal">
                <input type="date" value=""  min="2022-07-31" max="2025-12-31" class="form" id="todoDateModal">
                <button class="form" id="updateButton">Update</button>
        </div>
      
      </div>
    <section class="addItems">
        <form action="/todos/createTodo" method='POST' >
            <label>Add item:</label>
            <input type="text" placeholder="Enter Todo Item" name='todoItem' class="form">
            <label>Due Date:</label>
            <input type="date" name="todoDate" min="2022-07-31" max="2025-12-31" class="form hover">
            <input type="submit" id="submitButton" class="hover" value="Add Item">
            
        </form>
    </section>
    <% if(todos.length === 0){ %> 
        <h2 class="remaining-items">Please enter a to-do item above</h2> 
        <% } else { %>
    <table>
        <tr>
            <th>Todo Item</th>
            <th>Due Date</th>

        </tr>

        <% todos.forEach( el => { %>
        <tr>
            <td class='todoItem todo-list-item' data-id='<%=el._id%>'>
                <span class='<%= el.completed === true ? 'completed' : 'not'%>'><%= el.todo %></span>
            </td>
            <td>
                <span class='date <%= el.completed === true ? 'completed' : 'not'%>' ><%= el.date%></span>
            </td>
            <td>
                <span class="edit fas fa-edit" data-id="<%=el._id%>" data-todo="<%= el.todo %>" data-date="<%= el.date%>"></span>
            </td>
            <td>
                <span class='del fas fa-times' data-id="<%=el._id%>"></span>
            </td>
        </tr>
       <% })} %>

    </table>
    <ul>
    <!-- 
        ------------put all of this in a table as it should render better under most circumstances-------------------

        <% todos.forEach( el => { %>
            <li class='todoItem todo-list-item' data-id='<%=el._id%>'>
                <span class='<%= el.completed === true ? 'completed' : 'not'%>'><%= el.todo %></span>
                <span>Due date:</span>
                <span id = "date" class='date <%= el.completed === true ? 'completed' : 'not'%>' ><%= el.date%></span>
                <span class="edit fas fa-edit" data-id="<%=el._id%>" data-todo="<%= el.todo %>" data-date="<%= el.date%>"></span>
                <span class='del fas fa-times'></span>
            </li>
            <hr />
    <% }) %>    
    </ul> 


------------put all of this in a table as it should render better under most circumstances-------------------


-->

    <h3 class="remaining-items">Remaining Items: <span><%= left %></span></h2>

</section>

    <a class="logout-button" href="/logout">Logout</a>

    <script src="js/main.js"></script>
</body>
</html>